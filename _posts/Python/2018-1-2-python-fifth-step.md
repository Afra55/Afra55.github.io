---
layout: post
title:  "Python Fifth Step"
date:   2018-01-02 21:04
categories: Python
comments: true
description: Python Fifth Step！
---

* content
{:toc}

## 本文

[http://afra55.github.io/2017/01/02/python-fifth-step/](http://afra55.github.io/2017/01/02/python-fifth-step/)

## 正则表达式

正则表达式是包含文本和特殊字符的字符串，该字符串描述一个可以识别各种字符串的模式

### 常见正则表达式符号和特殊字符

| 符号 | 说明 | 示例 |
| :------ | :------ | :------ |
| literal | 匹配文本字符串的字面值 literal | foo | 
| text1&#124;text2 | 匹配正则表达式 text1 或 text2 | one&#124;One |
| . | 匹配任何字符（除了\n之外） | b.b |
| ^ | 匹配字符串起始部分 | ^Lover |
| $ | 匹配字符串终止部分 | /bin/*sh$ |
| * | 匹配 0 次或多次前面出现的正则表达式 | `[A-Za-z0-9]*` |
| + | 匹配 1 次或多次前面出现的正则表达式 | `[a-z]+\.com` |
| ? | 匹配 0 次或 1 次前面出现的正则表达式 | goo? |
| {N} | 匹配 N 次前面出现的正则表达式 | `[0-9]{7}` |
| {M,N} | 匹配 M~N 次前面出现的正则表达式 | `[0-9]{5,7}` |
| `[...]` | 匹配来自字符集的任意单一字符 | `[aeiou]` |
| `[..x-y..]` | 匹配 x~y 范围中的任意单一字符 | `[0-9],[A-Za-z]` |
| `[^...]` | 不匹配此字符集中出现的任一字符，包括在该字符集中出现的某一范围的字符 | `[^aeiou],[^A-Za-z0-9]` |
| (`*`&#124;+&#124;?&#124;{})? | 用于匹配上面频繁出现或重复出现符号的非贪婪版本(`*`, +, ?, {}), 例如 `\*(.+?)\*`匹配`*abc*def*`中的`*abc*`而不是`*abc*def*` | `.*?[a-z]` |
| (...) | 匹配封闭的正则表达式，然后另存为子组 | ([0-9]{3})?,f(oo&#124;u)bar |


| 特殊字符 | 说明 | 示例 |
| :------ | :------ | :------ |
| `\d` | 匹配任何十进制数字，与 `[0-9]` 一致, `\D` 与 `\d` 相反意思是匹配一个非数字字符。等价于`[^0-9]` | data\d+.txt |
| `\w` | 匹配任何字母数字字符, 与 `[A-Za-z0-9]` 一致(`\W` 意义相反) | `[A-Za-z_]\w+` |
| `\s` | 匹配任何空格字符，与 `[\n\t\r\v\f]` 相同（`\S` 意义相反） | of\sthe |
| `\b` | 匹配任何单词边界,也就是指单词和空格间的位置, 例如，“er\b”可以匹配“never”中的“er”，但不能匹配“verb”中的“er”(`\B`意义相反) | `\bThe\b` |
| `\N` | 匹配已保存的子组 N (参见 `(...)`) | price:\16 |
| `\c` | 逐字匹配任何特殊字符c (仅按照字面意义匹配，不匹配特殊含义) | `\.,\\,\*` | 
| `\A(\Z)` | 匹配字符串的起始（结束）（参见^, $）| `\ALover` |



| 扩展表示法 | 说明 | 示例 |
| :------ | :------ | :------ |
| `(?iLmsux)` | 在正则表达式中嵌入一个或多个特殊“标记”参数（或函数/方法） | `(?x), (?im)` |
| `(?:...)` | 表示一个匹配不用保存的分组 | `(?:\w+\.)*` |
| `(?P<name>)...` | 表示一个仅由 name 标识而不是数字标识的正则分组 | `(?P<data>)` |
| `(?P=name)` | 在同一字符串中匹配之前的 `(?P<name>)` 正则分组 | `(?P=data)` |
| `(?#...)` | 表示注释，所有内容都被忽略 | `(?#comment)` |
| `(?=...)` | 正向前视断言: 例如，“Windows(?=7&#124;8&#124;9&#124;2000)”能匹配“Windows2000”中的“Windows”，但不能匹配“Windows10”中的“Windows” | `(?=.com)` |
| `(?!=...)` | 负向前视断言: 例如，“Windows(?!7&#124;8&#124;9&#124;2000)”能匹配“Windows10”中的“Windows”，但不能匹配“Windows2000”中的“Windows” | `(?!=.net)` |
| `(?<=...)` | 正向后视断言: 例如，“(?<=7&#124;8&#124;9&#124;2000)Windows”能匹配“2000Windows”中的“Windows”，但不能匹配“10Windows”中的“Windows” | `(?<=800-)` |
| `(?<!...)` | 负向后视断言：例如，"`(?<!2000)Windows`" 能匹配"10Windows" 中的 "Windows", 但不能匹配 "2000Windows" 中的"windows" | `(?<!192\.168\.)` |
| (?(id/name)Y&#124;N) | 如果分组所提供的 id 或 name 存在，就返回正则表达式的条件匹配Y, 如果不存在就返回 N (&#124;N 是可选的) | (?(1)y&#124;x) |


### 择一匹配

`|` 是表示择一匹配（并，也可称作或）的符号, 即从多个模式中选择其一

比如 `你|我|他` 匹配的字符串是 '你'、'我'、'他'

### 字符集

由方括号包含 `[...]`, 能够匹配一对方括号中包含的任何字符

`b[aeiou]t` 匹配 'bat','bet','bit','bot','but'

方括号中，两个字符用 `-` 连字符连接，代表字符的范围

A-Z,a-z,0-9 分别表示大写字母，小写字母，数字

`[^...]` 表示不匹配字符集中的任一字符

### 闭包

闭包，匹配一个或多个或没有出现的字符模式

Kleene 闭包: `*`

正闭包操作符：`+`

`?`, `{}`

使用分组操作符时，正则表达式引擎会尽可能的扩大匹配的范围，这叫做贪婪匹配

加 `?` 可以避免贪婪匹配

### 分组

使用圆括号指定分组

`\d+(\.\d*)?` 任何十进制数字后面可以接一个小数点和零个或多个数字，例如 0.003, 3, 33.





